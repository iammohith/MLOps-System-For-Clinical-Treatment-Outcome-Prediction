# üì¶ Model Artifacts

<div align="center">

![Joblib](https://img.shields.io/badge/Format-Joblib-green?style=for-the-badge)
![Algo](https://img.shields.io/badge/Algorithm-Random_Forest-blue?style=for-the-badge)

**Serialized machine learning models and preprocessors.**

[‚¨ÖÔ∏è Back to Root](../README.md)

</div>

---

## 1. Artifact Overview

This directory contains the binary artifacts generated by the training pipeline. They are **not** committed to Git (ignored via `.gitignore`), but are tracked by DVC files (`.dvc`).

*   `model.joblib`: The trained `RandomForestRegressor`.
*   `model.joblib.dvc`: The pointer file containing the SHA-256 hash and S3/Local path.

---

## 2. Model Configuration

The model hyperparameters are strictly defined in `params.yaml` to ensuring reproducibility.

| Parameter | Value | Description |
| :--- | :--- | :--- |
| **Algorithm** | `RandomForestRegressor` | Ensemble of decision trees. |
| `n_estimators` | `200` | Number of trees in the forest. |
| `max_depth` | `15` | Max depth of any tree (avoids overfitting). |
| `min_samples_split` | `5` | Min samples required to split a node. |
| `min_samples_leaf` | `2` | Min samples required at a leaf node. |

---

## 3. Compatibility Matrix

> [!IMPORTANT]
> **Serialization Warning**: Scikit-Learn models are sensitive to library versions. You **must** use the same version for inference that was used for training.

| Component | Version |
| :--- | :--- |
| **Python** | 3.10+ |
| **Scikit-Learn** | 1.4.1 |
| **Joblib** | 1.3.2 |

The built Docker image (`infra/docker/Dockerfile.inference`) guarantees these versions via `requirements-inference.txt`.

---

## 4. Loading the Model

We use a Singleton pattern (`inference/model_loader.py`) to safely load the model in production:

```python
import joblib

# Load Model
model = joblib.load("models/model.joblib")

# Load Preprocessor (OneHotEncoder, Scaler, etc.)
preprocessor = joblib.load("data/processed/preprocessor.joblib")
```
